<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MBA - IA | Construtor</title>
  <link rel="stylesheet" href="/src/style.css" />
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
</head>

<body>
  <div id="app">
    <!-- Header -->
    <header class="top-bar">
      <div class="top-bar-left">
        <a href="/checkout.html" class="btn-top" id="btn-back-checkout" style="text-decoration: none;">
          <svg style="margin-right:4px" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="3">
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
          Voltar para o Checkout
        </a>
        <div class="top-bar-divider"></div>
        <button class="btn-icon-top">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
          </svg>
        </button>
        <button class="btn-top" style="margin-left: 12px;" id="btn-brand-header">
          <span id="header-brand-name" contenteditable="true" spellcheck="false">sdrsoft</span>
          <svg style="margin-left:4px" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="3">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
      </div>

      <div class="top-bar-center">
        <div class="nav-item active">Construtor</div>
        <div class="nav-item">Guia de estilo</div>
      </div>

      <div class="top-bar-right">
        <button class="btn-icon-top" id="view-desktop" title="Desktop">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
            <line x1="8" y1="21" x2="16" y2="21"></line>
            <line x1="12" y1="17" x2="12" y2="21"></line>
          </svg>
        </button>
        <button class="btn-icon-top" id="view-mobile" title="Mobile">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
            <line x1="12" y1="18" x2="12.01" y2="18"></line>
          </svg>
        </button>
        <div class="top-bar-divider"></div>
        <button class="btn-icon-top" id="undo-btn" title="Desfazer">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <path d="M3 7v6h6"></path>
            <path d="M21 17a9 9 0 00-9-9 9 9 0 00-6 2.3L3 13"></path>
          </svg>
        </button>
        <button class="btn-icon-top" id="redo-btn" title="Refazer">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <path d="M21 7v6h-6"></path>
            <path d="M3 17a9 9 0 019-9 9 9 0 016 2.3L21 13"></path>
          </svg>
        </button>
        <div class="top-bar-divider"></div>
        <button class="btn-icon-top" id="btn-preview" title="PrÃ©via">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
            <circle cx="12" cy="12" r="3"></circle>
          </svg>
        </button>
        <button class="btn-publish" id="btn-save"
          style="background:#F1F5F9; color:#475569; box-shadow:none;">Salvar</button>
        <button class="btn-publish" id="btn-publish-main"
          style="background: var(--color-brand); color: white; box-shadow: 0 4px 10px rgba(79, 70, 229, 0.2);">Publicar</button>
      </div>
    </header>


    <!-- Builder Layout -->
    <div class="builder-layout">
      <!-- Sidebar Left: Toolbox -->
      <aside class="sidebar" id="sidebar-left">
        <div class="sidebar-content" id="toolbox-content">
          <!-- Logo + Icons Injected via JS -->
        </div>
      </aside>

      <!-- Main Canvas Area -->
      <main class="canvas-area" id="canvas-content">
        <!-- Canvas wrapper is created by JS as .canvas-paper -->
      </main>

      <!-- Sidebar Right: Settings -->
      <aside class="sidebar sidebar-right" id="sidebar-right">
        <div class="sidebar-content" id="properties-content">
          <!-- Injected via JS -->
        </div>
      </aside>
    </div>

    <!-- Modals & Toasts -->
    <div id="loading-overlay" class="overlay" style="display:none;">
      <div class="loader-box">
        <div id="lottie-container" style="width: 120px; height: 120px; margin: 0 auto 20px;">
          <lottie-player id="lottie-player" src="https://assets3.lottiefiles.com/packages/lf20_at6mdfkv.json"
            background="transparent" speed="1" style="width: 100%; height: 100%;" loop autoplay></lottie-player>
        </div>
        <p id="loading-text" style="font-size: 20px; font-weight: 800; color: #1E293B;">Dando vida ao seu projeto...</p>
        <div id="progress-bar-container"
          style="width: 100%; height: 8px; background: #F1F5F9; border-radius: 10px; margin-top: 24px; overflow: hidden; display: none;">
          <div id="progress-bar"
            style="width: 0%; height: 100%; background: var(--color-brand); transition: width 0.3s ease;"></div>
        </div>
      </div>
    </div>

    <div id="toast-container" class="toast-container"></div>

    <button id="btn-exit-preview" class="btn-exit-preview">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
      </svg>
      Voltar ao Editor
    </button>

  </div>
  <script type="module" src="/src/main.js"></script>
</body>

</html>